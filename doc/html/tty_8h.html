<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DeanOS: D:/DeanOS/src/kernel/include/tty.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DeanOS
   &#160;<span id="projectnumber">0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('tty_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tty.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The terminal interface that uses vga display to display strings to the screen. The screen is a 80x25 character display using the video memory address to display the characters. Also initialises the display depending whether parameters where given from the bootloader.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;<a class="el" href="boot_8h_source.html">boot.h</a>&gt;</code><br />
<code>#include &lt;rtc.h&gt;</code><br />
</div>
<p><a href="tty_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0a8f5d69e3e95a7c9872ec2795c6324f"><td class="memItemLeft" align="right" valign="top"><a id="a0a8f5d69e3e95a7c9872ec2795c6324f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TERMINAL_ROW_MIN</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a0a8f5d69e3e95a7c9872ec2795c6324f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa62da350a08f03604a1078554ba459ad"><td class="memItemLeft" align="right" valign="top"><a id="aa62da350a08f03604a1078554ba459ad"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_time</b> (<a class="el" href="structrtc__date__time__t.html">rtc_date_time_t</a> *date)</td></tr>
<tr class="separator:aa62da350a08f03604a1078554ba459ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1948c3bddfaa5278f284de40eb457e4"><td class="memItemLeft" align="right" valign="top"><a id="ad1948c3bddfaa5278f284de40eb457e4"></a>
<a class="el" href="structrtc__date__time__t.html">rtc_date_time_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>get_time</b> (<a class="el" href="structrtc__date__time__t.html">rtc_date_time_t</a> *date)</td></tr>
<tr class="separator:ad1948c3bddfaa5278f284de40eb457e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5d8e63cd4fb25e2dbfd995d88d85ca"><td class="memItemLeft" align="right" valign="top"><a id="a7d5d8e63cd4fb25e2dbfd995d88d85ca"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_display_time</b> ()</td></tr>
<tr class="separator:a7d5d8e63cd4fb25e2dbfd995d88d85ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af64d12554ba4342bd4d269add91cedba"><td class="memItemLeft" align="right" valign="top"><a id="af64d12554ba4342bd4d269add91cedba"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>move_cursor_left</b> ()</td></tr>
<tr class="separator:af64d12554ba4342bd4d269add91cedba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9e001e786987fb5d884a04f8d614f13"><td class="memItemLeft" align="right" valign="top"><a id="ae9e001e786987fb5d884a04f8d614f13"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>move_cursor_right</b> ()</td></tr>
<tr class="separator:ae9e001e786987fb5d884a04f8d614f13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8bb3912a3ce86b15842e79d0b421204"><td class="memItemLeft" align="right" valign="top"><a id="ac8bb3912a3ce86b15842e79d0b421204"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>clear</b> ()</td></tr>
<tr class="separator:ac8bb3912a3ce86b15842e79d0b421204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa9076c3f17ba17d0b290aa19c31f260"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tty_8h.html#aaa9076c3f17ba17d0b290aa19c31f260">terminal_initialise</a> (struct <a class="el" href="structboot__params.html">boot_params</a> *params)</td></tr>
<tr class="memdesc:aaa9076c3f17ba17d0b290aa19c31f260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the terminal.  <a href="#aaa9076c3f17ba17d0b290aa19c31f260">More...</a><br /></td></tr>
<tr class="separator:aaa9076c3f17ba17d0b290aa19c31f260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3fdefc31ed502be97cb7fcecd7b0023"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tty_8h.html#aa3fdefc31ed502be97cb7fcecd7b0023">terminal_put_char</a> (char c)</td></tr>
<tr class="memdesc:aa3fdefc31ed502be97cb7fcecd7b0023"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a character to the display.  <a href="#aa3fdefc31ed502be97cb7fcecd7b0023">More...</a><br /></td></tr>
<tr class="separator:aa3fdefc31ed502be97cb7fcecd7b0023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa47c39693438b0acd138a4c34a60fb01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tty_8h.html#aa47c39693438b0acd138a4c34a60fb01">terminal_set_color</a> (uint8_t colour)</td></tr>
<tr class="memdesc:aa47c39693438b0acd138a4c34a60fb01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the colour (forground and background) of the terminal.  <a href="#aa47c39693438b0acd138a4c34a60fb01">More...</a><br /></td></tr>
<tr class="separator:aa47c39693438b0acd138a4c34a60fb01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b3e4afc243d11d9130836f359a6a9c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tty_8h.html#a8b3e4afc243d11d9130836f359a6a9c9">terminal_write</a> (const char *data, size_t size)</td></tr>
<tr class="memdesc:a8b3e4afc243d11d9130836f359a6a9c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a set of bytes/characters to the display of size size.  <a href="#a8b3e4afc243d11d9130836f359a6a9c9">More...</a><br /></td></tr>
<tr class="separator:a8b3e4afc243d11d9130836f359a6a9c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c72181f7404e823204fbde056c7b47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tty_8h.html#a00c72181f7404e823204fbde056c7b47">terminal_write_string</a> (const char *str)</td></tr>
<tr class="memdesc:a00c72181f7404e823204fbde056c7b47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a null terminated string to the display.  <a href="#a00c72181f7404e823204fbde056c7b47">More...</a><br /></td></tr>
<tr class="separator:a00c72181f7404e823204fbde056c7b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The terminal interface that uses vga display to display strings to the screen. The screen is a 80x25 character display using the video memory address to display the characters. Also initialises the display depending whether parameters where given from the bootloader. </p>

<p class="definition">Definition in file <a class="el" href="tty_8h_source.html">tty.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aaa9076c3f17ba17d0b290aa19c31f260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa9076c3f17ba17d0b290aa19c31f260">&#9670;&nbsp;</a></span>terminal_initialise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void terminal_initialise </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structboot__params.html">boot_params</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the terminal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>The parameters from the bootloader that can contain the cursor position. This may be NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>No return value</dd></dl>
<p>Initialise the terminal based on the parameters from the bootloader. If the parameters are NULL, no parameters provided or the signature isn't correct, then the terminal is cleared and the cursor starts at (0, 0) at the top left corner of the display. If there are parameters provided, then the display continues from where the bootloader left off. </p>

<p class="definition">Definition at line <a class="el" href="tty_8c_source.html#l00192">192</a> of file <a class="el" href="tty_8c_source.html">tty.c</a>.</p>

</div>
</div>
<a id="aa3fdefc31ed502be97cb7fcecd7b0023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3fdefc31ed502be97cb7fcecd7b0023">&#9670;&nbsp;</a></span>terminal_put_char()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void terminal_put_char </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a character to the display. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>The character to be printed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>No return value</dd></dl>
<p>Display a the given character at the current cursor position and update the cursor </p>

<p class="definition">Definition at line <a class="el" href="tty_8c_source.html#l00176">176</a> of file <a class="el" href="tty_8c_source.html">tty.c</a>.</p>

</div>
</div>
<a id="aa47c39693438b0acd138a4c34a60fb01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa47c39693438b0acd138a4c34a60fb01">&#9670;&nbsp;</a></span>terminal_set_color()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void terminal_set_color </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>colour</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the colour (forground and background) of the terminal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">colour</td><td>The forground and background colour </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>No return value </dd></dl>

<p class="definition">Definition at line <a class="el" href="tty_8c_source.html#l00172">172</a> of file <a class="el" href="tty_8c_source.html">tty.c</a>.</p>

</div>
</div>
<a id="a8b3e4afc243d11d9130836f359a6a9c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b3e4afc243d11d9130836f359a6a9c9">&#9670;&nbsp;</a></span>terminal_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void terminal_write </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a set of bytes/characters to the display of size size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>A pointer to the data to print to the display </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The size in bytes of the data to print </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>No returen value</dd></dl>
<p>Iterate through the data byte by byte and display it to the display for length size. </p>

<p class="definition">Definition at line <a class="el" href="tty_8c_source.html#l00181">181</a> of file <a class="el" href="tty_8c_source.html">tty.c</a>.</p>

</div>
</div>
<a id="a00c72181f7404e823204fbde056c7b47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00c72181f7404e823204fbde056c7b47">&#9670;&nbsp;</a></span>terminal_write_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void terminal_write_string </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a null terminated string to the display. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">str</td><td>The string to display </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>No return value</dd></dl>
<p>Take a null terminating string and print that to the display </p>

<p class="definition">Definition at line <a class="el" href="tty_8c_source.html#l00188">188</a> of file <a class="el" href="tty_8c_source.html">tty.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_cbd7f246bdf7dc0a50281a272327e6ed.html">kernel</a></li><li class="navelem"><a class="el" href="dir_1083f99974d515180cb874b65de1a4c1.html">include</a></li><li class="navelem"><a class="el" href="tty_8h.html">tty.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
